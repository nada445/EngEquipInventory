<!DOCTYPE html>
<html>
<head>
    <link rel='stylesheet' href='/styles/bootstrap.min.css' />
    <link rel='stylesheet' href='/styles/style.css' />
    <script src="/js/jquery-2.2.0.min.js" type="text/javascript"></script>
    <script src="/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="/src/userequipments.js" type="text/javascript"></script>
    <style>
        h3 {
            margin: 5px 0;
        }

        p {
            margin: 10px 0;
            font-size: 1em;
            color: #60120b;
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background-color: #eef4eb;
            border-left: 5px solid #893f22;
            padding: 10px;
            border-radius: 8px;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease-in-out;
        }

        p:hover {
            background-color: #ffdab9;
            transform: scale(1.05);
            color: #d64161;
            cursor: pointer;
        }

        .filter-bar {
            padding: 10px;
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            border-radius: 5px;
            margin-bottom: 20px;
            box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
        }

        .filter-bar .form-group label {
            margin-right: 5px;
            font-weight: bold;
        }

        #apply-filters {
            background-color: #28a745;
            color: #fff;
            border: none;
            border-radius: 5px;
        }
        .details-box {
        display: none;
        position: absolute;
        padding: 15px;
        background-color: #fff;
        border: 1px solid #ccc;
        border-radius: 5px;
        box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.1);
        z-index: 100;
        width: 250px;
        left: 50%;
        transform: translateX(-50%);
        top: 20%;
        box-sizing: border-box; /* Ensure padding is included in width */
    }

    .details-box select,
    .details-box textarea {
        margin-bottom: 10px;
        width: 100%; /* Make the select and textarea fit the container width */
        box-sizing: border-box; /* Prevents overflow */
    }

    .details-box textarea {
        resize: vertical; /* Allow the comment box to be resized vertically only */
    }
    </style>
</head>

<body>
    <!-- Navigation Bar -->
    <div>
        <nav class="navbar navbar-inverse" style="padding-left:130px;">
            <ul class="nav navbar-nav">
                <li><a href="/dashboard">Home</a></li>
                <li class="active"><a href="/userequipments">Equipments</a></li>
                <li><a href="/cart">Cart</a></li>
                <li><a href="/orders">orders</a></li>
            </ul>
        </nav>
    </div>

    <!-- Filter Bar -->
     <div class="container">
        <div class="filter-bar">
            <div class="form-group">
                <label for="category-filter">Filter by Category:</label>
                <select id="category-filter" class="form-control">
                    <option value="all">All Categories</option>
                    {{#categorynames}}
                    <option value="{{category_name}}">{{category_name}}</option>
                    {{/categorynames}}
                </select>
            </div>

            <div class="form-group">
                <label for="supplier-filter">Filter by Supplier:</label>
                <select id="supplier-filter" class="form-control">
                    <option value="all">All Suppliers</option>
                    {{#suppliernames}}
                    <option value="{{supplier_name}}">{{supplier_name}}</option>
                    {{/suppliernames}}
                </select>
            </div>

            <div class="form-group">
                <label for="search-equipment">Search by Equipment Name:</label>
                <input type="text" id="search-equipment" class="form-control" placeholder="Enter equipment name">
            </div>
        </div>

        <!-- Equipment Table -->
        <table class="table table-striped">
            <thead>
                <tr>
                    <th>Equipment Name</th>
                    <th class="text-center">Model Number</th>
                    <th class="text-center">Status</th>
                    <th class="text-center">quantity</th>
                </tr>
            </thead>
            <tbody id="tbody">
                {{#equipmentsAI}}
                <tr data-category="{{category}}" data-supplier="{{supplier}}">
                    <td>{{equipment_name}}</td>
                    
                    <td class="text-center">{{model_number}}</td>
                    <td class="text-center">{{status}}</td>
                    <td class="text-center">{{quantity}}</td>
                    <td class="text-center">
                        <input type="hidden" class="equipment-id" value="{{equipment_id}}">
                        <button class="btn btn-primary btn-sm" type="button">Add to Cart</button>
                    </td>
                    <td>
                        <input type="hidden" class="equipment-id" value="{{equipment_id}}">
                        <button class="btn btn-secondary btn-sm view-details-btn" type="button" >view details</button>
                    </td>
                    <td>
                        <div class="details-box" id="details-box-{{equipment_id}}" style="display:none;">
                            <label for="name">Image:</label><br>
                            <img src="{{equipment_img}}" alt="Equipment Image" width="100"><br>

                            <label for="id">name: {{equipment_name}}</label><br>
                            <label for="id">rating: {{rating}}</label><br>
                            <label for="id">model number: {{model_number}}</label><br>
                            <label for="id">quantity: {{quantity}}</label><br>
                            <label for="id">status: {{status}}</label><br>
                            <label for="id">location: {{location}}</label><br>
                            <label for="id">category: {{category}}</label><br>
                            <label for="id">supplier: {{supplier}}</label><br>
                            
                            <button class="btn btn-warning close-details-box" id="close-details-{{equipment_id}}">Close</button>
                        </div>
                        </td>
                </tr>
                {{/equipmentsAI}}
            </tbody>
        </table>
    </div>
</body>
</html>
